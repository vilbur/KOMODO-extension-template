{"keyboard_shortcut":"","name":"Prefs","language":"JavaScript","trigger_enabled":false,"value":["if( typeof window.Prefs === 'undefined'  )\r","\twindow.Prefs = {};\r","\t\t\r","//window.Prefs.test();\r","\r"," /** Prefs\r"," */\r","//ko.extensions.TemplateExtension.Prefs = {};\r","var Prefs = (function()\r","{\r","\tfunction Prefs()\r","\t{ \r","\t\tthis.UI = {};\r","\t\t \r","\t\t/** init\r","\t\t */\r","\t\tthis.init = function()\r","\t\t{\r","\t\t\tconsole.log( window );\r","\t\t\tconsole.log( window.frameElement.contentWindow.document );\t\t\t\r","\t\t\talert( komodoWindow().ko.extensions.TemplateExtension.constructor.name );  \r","\t\t\tthis.UI  = komodoWindow().ko.extensions.TemplateExtension._new('UI').document(window.frameElement.contentWindow.document);\r","\t\t\t//this.UI.test();\r","\t\t}; \r","   \r","\t\t/** test\r","\t\t */ \r","\t\tthis.test = function()\r","\t\t{\r","\t\t\t//alert( 'Prefs.test()' );\r","\t\t\t//this.UI.parent('#te_pref_box').append( 'checkbox', ['Checkbox B 1', 'Checkbox B 2'] );\r","\r","\t\t};\r","\t\t/** Get Komodo main window \r","\t\t * chrome://komodo/content/library/windowManager.js mus be imported in preferences.xul\r","\t\t *\r","\t\t * @return object komodo main window\r","\t\t */\r","\t\tvar komodoWindow = function()\r","\t\t{\r","\t\t\treturn ko.windowManager.getMainWindow();\r","\t\t}; \r","\t\t/** Test\r","\t\t */\r","\t\tthis.toggleCheckbox = function(id)\r","\t\t{\r","\t\t\tconsole.log( 'Prefs.toggleCheckbox()' );\r","\t\t\tvar checkbox \t= document.getElei\r","\t\t\tmentById(id);\t\r","\t\t\tcheckbox.checked = ! checkbox.checked ;\r","\t\t};\r","\t}\r","\treturn Prefs;\r","\r","})();\r","\t\r","Prefs.apply(window.Prefs);\r","\r","\r","\r","function onLoad()\r","{\r","\tif( typeof window.Prefs === 'undefined'  )\r","\t\twindow.Prefs = {};\r","\t\t\r","\tPrefs.apply(window.Prefs);\r","\t\r","\twindow.Prefs.test();\r","\r","}\r","\r","function addControl()\r","{\r","\t//var node = document.createElement('textbox');\t\t\t\t\t\t\r","\t//\r","\t//document.getElementById('TemplateExtension_pref_box').appendChild(node);\r","\t//\r","\t//console.log( 'ko.windowManager.getMainWindow().ko.extensions.test' );\r","\t//console.log( ko.windowManager.getMainWindow().ko.extensions.test );\r","\t//console.log( 'ko.windowManager.getMainWindow().ko.TemplateExtension.test' );\t\r","\tko.windowManager.getMainWindow().ko.extensions.TemplateExtension.test();\t\r","\r","\t//ko.windowManager.getMainWindow().ko.extensions.TemplateExtension.Pref.UI.parent('#TemplateExtension_pref_box').append( 'checkbox', ['Checkbox B 1', 'Checkbox B 2'] );\r","\r","}\r","\r","\r","\r",""],"version":"1.0.12","rank":100,"async":false,"type":"macro","trigger":"trigger_postopen"}