{"keyboard_shortcut":"","name":"UI","language":"JavaScript","trigger_enabled":false,"value":["if( typeof ko.extensions.TemplateExtension === 'undefined'  )\r","\tko.extensions.TemplateExtension = {};\r","\t\r","/** UI\r"," * \r","*/\r","ko.extensions.TemplateExtension.UI = (function()\r","{\r","\t\t\r","\tfunction UI(_document=null)\r","\t{\r","\t\tvar Logger\t= ko.extensions.Logger_v3 ? new ko.extensions.Logger_v3(this).clear(false).off(false) : require('ko/console');\r","\t\t\r","\t\tvar $\t= require('ko/dom');\r","\t\tvar document\t= _document ? _document : document;\r","\t\tvar parent\t= $(document);\t\t\r","\t\tvar prefix\t= 'te';\r","\t\tvar values\t= {};\r","\r","\t\t/** Set document\r","\t\t *\r","\t\t * @param\tstring\tdocument\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.document = function(_document)\r","\t\t{\r","\t\t\tdocument = _document;\r","\t\t\treturn this;\r","\t\t};\r","\t\t \r","\t\t/** Query selector in document\r","\t\t * @param\tstring\tselector\tSelector of node\r","\t\t * @return\ttype\t[QueryObject](https://docs.activestate.com/komodo/11/sdk/api/module-ko_dom-QueryObject.html)\r","\t\t */\r","\t\tthis.$ = function(selector)\r","\t\t{\r","\t\t\treturn $(selector, document);\r","\t\t};\r","\t\t/** Set parent element e.g.: for adding of nodes\r","\t\t *\r","\t\t * @param\tstring\tparent_selector\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.parent = function(parent_selector)\r","\t\t{\r","\t\t\tparent = $(parent_selector, document);\r","\t\t\treturn this;\r","\t\t};\r","\t\t/** Set prefix for uI id`s\r","\t\t *\r","\t\t * @param\tstring\tprefix\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.prefix = function(_prefix='')\r","\t\t{\r","\t\t\tprefix = _prefix;\r","\t\t\treturn this;\r","\t\t};\r","\t\t\r","\t\t/** Get values of parent node controls\r","\t\t * @param\tstring\tparent_selector\r","\t\t * @return\t{id: value}\tObject of node ids and values\r","\t\t */\r","\t\tthis.values = function(parent_selector)\r","\t\t{\r","\t\t\tvalues\t= {};\r","\r","\t\t\tsetValuesFormChildNodes( $(parent_selector, document).children() );\r","\t\t\t\r","\t\t\treturn values;\r","\t\t};\r","\t\t/** Test\r","\t\t */\r","\t\tthis.toggleCheckbox = function(id)\r","\t\t{ \r","\t\t\tvar checkbox \t= window.getElementById(id);\t\r","\t\t\tcheckbox.checked = ! checkbox.checked ;\r","\t\t};\r","\t\t/** add uI to parent node\r","\t\t */\r","\t\tthis.append = function(type, attributes)\r","\t\t{\r","\t\t\tconsole.log( 'UI.append()' );\r","\t\t\t\r","\t\t\tif( ! Array.isArray(attributes) )\r","\t\t\t\tattributes = [attributes];\r","\t\t\t\r","\t\t\tfor(let a=0; a<attributes.length;a++)\r","\t\t\t\taddControlToParent(type, attributes[a]);\r","\r","\t\t};\r","\t\t/** Test\r","\t\t */\r","\t\tthis.test = function(string='node') {\r","\t\t\talert('UI.test(\"'+string+'\")');\r","\t\t};\r","\t\t/** Add controls to parent element\r","\t\t * Adding has smart features E.G.: auto adding of id\r","\t\t */\r","\t\tvar addControlToParent = function(type, attributes)\r","\t\t{\r","\t\t\tconsole.log( 'UI.addControlToParent()' );\r","\r","\t\t\tvar node\t= new ko.extensions.TemplateExtension.Node()\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .prefix(prefix)\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .type(type)\t\t\t\t\t\t\t\t\t\t\t\t\t \r","\t\t\t\t\t\t\t\t\t\t\t\t \t .attributes(attributes)\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .get();\r","\r","\t\t\tparent.append( node );\r","\t\t};\r","\t\t/** Get values form child nodes\r","\t\t * @param\tarray\tchild_nodes\tElement list of child nodes\r","\t\t */\r","\t\tvar setValuesFormChildNodes = function(child_nodes)\r","\t\t{\r","\t\t\t//console.log( child_nodes._elements );\r","\t\t\tchild_nodes.each(function()\r","\t\t\t{\r","\t\t\t\tif( ! Object.keys(this.childNodes).length ){\r","\t\t\t\t\tif( this.id )\r","\t\t\t\t\t\tvalues[this.id] = this.nodeName == 'checkbox' ? this.checked : this.value;\t\t\t\t\t\r","\t\t\t\t}else\r","\t\t\t\t\tsetValuesFormChildNodes( $(this.childNodes) );\r","\t\t\t});\r","\t\t}; \r","\r","\t}\r","\treturn UI;\r","\r","})();"],"version":"1.0.12","rank":100,"async":false,"type":"macro","trigger":"trigger_postopen"}