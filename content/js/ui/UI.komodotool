{"keyboard_shortcut":"","name":"UI","language":"JavaScript","trigger_enabled":false,"value":["if( typeof ko.extensions.TemplateExtension === 'undefined'  )\r","\tko.extensions.TemplateExtension = {};\r","\t\r","/** UI\r"," * \r","*/\r","ko.extensions.TemplateExtension.UI = (function() \r","{\r","\t\t\r","\tfunction UI(_document=null)\r","\t{\r","\t\tvar Logger\t= ko.extensions.Logger_v3 ? new ko.extensions.Logger_v3(this).clear(false).off(false) : require('ko/console');\r","\t\t\r","\t\tvar $\t= require('ko/dom');\r","\t\tvar document\t= _document ? _document : document;\r","\t\tvar parent\t= $(document);\t\t\r","\t\tvar prefix\t= 'te';\r","\t\tvar values\t= {};\r","\r","\t\t/** QUery selector in document\r","\t\t */\r","\t\tthis.$ = function(selector)\r","\t\t{\r","\t\t\treturn $(selector, document);\r","\t\t};\r","\t\t/** Set parent element e.g.: fori adding of controls\r","\t\t *\r","\t\t * @param\tstring\tparent_selector\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.parent = function(parent_selector)\r","\t\t{\r","\t\t\tparent = $(parent_selector, document);\r","\t\t\treturn this;\r","\t\t};\r","\t\t\r","\t\t\r","\t\t/** Get values of uI in parent node\r","\t\t * @return\t{id: value}\tObject of control`s ids and values\r","\t\t */\r","\t\tthis.getUIValues = function()\r","\t\t{\r","\t\t\tvalues\t= {};\r","\t\t\t\r","\t\t\tsetValuesFormChildNodes(parent_node.childNodes);\r","\t\t\t\r","\t\t\treturn values;\r","\t\t};\r","\t\t/** Test\r","\t\t */\r","\t\tthis.toggleCheckbox = function(id)\r","\t\t{ \r","\t\t\tvar checkbox \t= window.getElementById(id);\t\r","\t\t\tcheckbox.checked = ! checkbox.checked ;\r","\t\t};\r","\t\t/** add uI to parent node\r","\t\t */\r","\t\tthis.append = function(type, attributes)\r","\t\t{\r","\t\t\tconsole.log( 'UI.append()' );\r","\t\t\t\r","\t\t\tif( ! Array.isArray(attributes) )\r","\t\t\t\tattributes = [attributes];\r","\t\t\t\r","\t\t\tfor(let a=0; a<attributes.length;a++)\r","\t\t\t\taddControlToParent(type, attributes[a]);\r","\r","\t\t};\r","\r","\t\t/** Set prefix for uI id`s\r","\t\t *\r","\t\t * @param\tstring\tprefix\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.prefix = function(_prefix='')\r","\t\t{\r","\t\t\tprefix = _prefix;\r","\t\t\treturn this;\r","\t\t};\r","\t\t\r","\t\t/** Test\r","\t\t */\r","\t\tthis.test = function(string='node') {\r","\t\t\talert('ko.extensions.TemplateExtension.UI(\"'+string+'\")');\r","\t\t};\r","\t\t\r","\t\t/** addControl\r","\t\t */\r","\t\tvar addControlToParent = function(type, attributes)\r","\t\t{\r","\t\t\tconsole.log( 'UI.addControlToParent()' );\r","\r","\t\t\tvar node\t= new ko.extensions.TemplateExtension.Node()\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .prefix(prefix)\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .type(type)\t\t\t\t\t\t\t\t\t\t\t\t\t \r","\t\t\t\t\t\t\t\t\t\t\t\t \t .attributes(attributes)\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .get();\r","\r","\t\t\tparent.append( node );\r","\t\t};\r","\t\t/** Get values form child nodes\r","\t\t * @param\tarray\tchild_nodes\tElement list of child nodes\r","\t\t */\r","\t\tvar setValuesFormChildNodes = function(child_nodes)\r","\t\t{\t\t\t\r","\t\t\tfor(let i=0; i<child_nodes.length;i++)\r","\t\t\t{\t\t\t\t\r","\t\t\t\tif( ['textbox', 'checkbox'].indexOf( child_nodes[i].nodeName ) > -1 )\r","\t\t\t\t\tvalues[child_nodes[i].id] = child_nodes[i].nodeName == 'checkbox' ? child_nodes[i].checked : child_nodes[i].value;\r","\t\t\t\t\r","\t\t\t\telse if( child_nodes[i].childNodes )\r","\t\t\t\t\tsetValuesFormChildNodes(child_nodes[i].childNodes);\r","\t\t\t}\r","\t\t}; \r","\r","\t}\r","\treturn UI;\r","\r","})();"],"version":"1.0.12","rank":100,"async":false,"type":"macro","trigger":"trigger_postopen"}