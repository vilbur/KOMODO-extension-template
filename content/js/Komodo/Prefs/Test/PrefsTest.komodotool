{
  "keyboard_shortcut": "", 
  "name": "PrefsTest", 
  "language": "JavaScript", 
  "trigger_enabled": false, 
  "value": [
    "var prefs\t= ko.extensions.TemplateExtension.Komodo.Prefs;", 
    "var pref_data = {", 
    "\t'string':\t'foo string', ", 
    "\t'integer':\t999999999, ", 
    "\t'float':\t1.1111111, ", 
    "\t'boolean':\ttrue, ", 
    "\t'null':\tnull, ", 
    "\t'empty':\t'',", 
    "\t'object':\t{'string':'string value', 'boolean':true, 'nested-array':['item-1']},", 
    "\t'array':\t['item-1',['subarray item']],", 
    "};", 
    "", 
    "/** ", 
    " */", 
    "var prefsPerKeyDefaultValues = function()", 
    "{", 
    "\tprefs.prefix('pref-test-defaults-');", 
    "", 
    "\tfor(var type in pref_data)", 
    "\t\tif (pref_data.hasOwnProperty(type))", 
    "\t\t\tconsole.log( 'Test defaults '+type+': '+(pref_data[type] === prefs.get(type, pref_data[type] )) );\t\t", 
    "}; ", 
    "", 
    "/** Get pane pref_data", 
    " */", 
    "var prefsPerKeyTest = function(method)", 
    "{", 
    "\tprefs.prefix('pref-test-');", 
    "", 
    "\tfor(var type in pref_data)", 
    "\t\tif (pref_data.hasOwnProperty(type)){", 
    "\t\t\tif( method!=='get' )", 
    "\t\t\t\tprefs[method](type, pref_data[type] );", 
    "\t\t\t\t", 
    "\t\t\telse{", 
    "\t\t\t\tvar value\t= prefs.get(type);", 
    "\t\t\t\t//console.log( 'Test '+type+': '+ value );", 
    "\t\t\t\tconsole.log( 'Test '+type+': '+ (value===pref_data[type] || typeof value === typeof pref_data[type]) );", 
    "\t\t\t}\t\t\t\t\t\t\t", 
    "\t\t}", 
    "};", 
    "", 
    "/** Prefs object test", 
    " */", 
    "var prefsSetObjectTest = function(method, pref_data)", 
    "{", 
    "\tprefs.prefix('pref-test-obj-');", 
    "", 
    "\t//console.log( pref_data );", 
    "\tvar result = prefs[method](pref_data);", 
    "\t", 
    "\tif( method!=='get' )", 
    "\t\treturn; ", 
    "\t\t", 
    "\tconsole.log( 'prefsSetObjectTest() return:' );", 
    "\tconsole.log( result );", 
    "};", 
    "", 
    "", 
    "/*---------------------------------------", 
    "\tRUN TEST", 
    "\t", 
    " !!! Get values from prefs works after restart of Komodo after first setting", 
    "\t", 
    "-----------------------------------------", 
    "*/", 
    "", 
    "/** Prefs by single values ", 
    " */", 
    "//prefsPerKeyDefaultValues();", 
    "//prefsPerKeyTest('set');", 
    "//prefsPerKeyTest('get');", 
    "//prefsPerKeyTest('delete');", 
    "", 
    "/** Prefs by object ", 
    " */", 
    "//prefsSetObjectTest('set', pref_data);\t// set by object", 
    "//prefsSetObjectTest('get', pref_data);\t// get by object with defaults", 
    "//prefsSetObjectTest('delete', pref_data);\t// delete by object keys", 
    "", 
    "/** Prefs by array ", 
    " */", 
    "//prefsSetObjectTest('get', Object.keys(pref_data));\t// get by array of keys", 
    "prefsSetObjectTest('delete', Object.keys(pref_data));\t// delete by array of keys", 
    "", 
    ""
  ], 
  "version": "1.0.12", 
  "rank": 100, 
  "async": false, 
  "type": "macro", 
  "trigger": "trigger_postopen"
}