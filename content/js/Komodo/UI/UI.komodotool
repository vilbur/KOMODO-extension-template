{"keyboard_shortcut":"","name":"UI","language":"JavaScript","trigger_enabled":false,"value":["/** UI\r"," * \r","*/\r","ko.extensions.TemplateExtension.Komodo.UI = (function()\r","{\r","\t\t\r","\tfunction UI(_document=null)\r","\t{\r","\t\t//var Logger\t= ko.extensions.Logger_v3 ? new ko.extensions.Logger_v3(this).clear(false).off(false) : require('ko/console');\r","\t\t\r","\t\tvar $\t= require('ko/dom');\r","\t\tvar document\t= document;\r","\t\tvar node\t= null;\r","\t\tvar parent\t= $(document);\t\t\t\t\r","\t\tvar values\t= {};\r","\r","\t\t/** Set document\r","\t\t *\r","\t\t * @param\tstring\tdocument\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.document = function(_document)\r","\t\t{\r","\t\t\tdocument = _document;\r","\t\t\treturn this;\r","\t\t};\r","\t\t/** Query selector in document\r","\t\t * @param\tstring\tselector\tSelector of node\r","\t\t * @return\ttype\t[QueryObject](https://docs.activestate.com/komodo/11/sdk/api/module-ko_dom-QueryObject.html)\r","\t\t */\r","\t\tthis.$ = function(selector)\r","\t\t{\r","\t\t\treturn $(selector, document);\r","\t\t};\r","\t\t/** Set node element \r","\t\t *\r","\t\t * @param\tstring\tparent_selector\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.node = function(selector)\r","\t\t{\r","\t\t\tif( selector )\r","\t\t\t\tnode = $(selector, document);\r","\t\t\t\r","\t\t\treturn this;\r","\t\t};\r","\t\t/** Set parent element e.g.: for adding of nodes\r","\t\t *\r","\t\t * @param\tstring\tselector\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.parent = function(selector=null)\r","\t\t{\r","\t\t\talert( 'UI.parent() DEPRECATED use .node()' );\r","\t\t\t//parent = $(parent_selector, document);\r","\t\t\treturn this;\r","\t\t};\r","\t\t/** Get values of parent node controls\r","\t\t * @param\tstring\tparent_selector\r","\t\t * @return\t{id: value}\tObject of node ids and values\r","\t\t */\r","\t\tthis.values = function(selector=null)\r","\t\t{\r","\t\t\tthis.node(selector);\r","\t\t\t//alert('UI.values()');\r","\t\t\t//console.log(  document );\r","\t\t\tvalues\t= {};\r","\r","\t\t\tsetValuesFormChildNodes( $(parent_selector, document).children() );\r","\t\t\t\r","\t\t\treturn values;\r","\t\t};\r","\r","\t\t/** Append new nodes to node\r","\t\t *  If children are defined, then parent node became this.node\r","\t\t *\r","\t\t * @example \r","\t\t *\t\t.append('checkbox', 'Checkbox 1')\t// single node, attribute is label\r","\t\t *\t\t.append('checkbox', {label: 'Checkbox 1'})\t// single node with attributes\t\t \r","\t\t *\t\t.append('checkbox', ['Checkbox 1', 'Checkbox 2'])\t// multiple nodes\r","\t\t *\t\t.append('checkbox', [{label: 'Checkbox 1'}, {label: 'Checkbox 2'}])\t// multiple nodes with attributes\r","\t\t *\r","\t\t *\t\t.append('groupbox')\t// append node without attributes\r","\t\t *\t\t.append('groupbox', {id: 'gp_id'})\t// parent node with attributes\r","\t\t *\t\t.append('groupbox', null, ['checkbox', ['Checkbox 1', 'Checkbox 2']] )\t// parent node with children\r","\t\t *\t\t.append('groupbox', {id: 'gp_id'}, ['checkbox', ['Checkbox 1', 'Checkbox 2']] )\t// parent node with attributes and children\r","\t\t *\r","\t\t * @param\tstring\ttype\tType of node to append\r","\t\t * @param\tnull|string|object|[object] \t[attributes]\tAttributes for controls, define array of strings or array of objects for adding multiple nodes* \r","\t\t * @param\t[type, attributes]\tchildren\tArray of these parameters for repeating append() function\r","\t\t *\r","\t\t * @return\tself \r","\t\t */\r","\t\tthis.append = function(type, attributes=null, children=null)\r","\t\t{\r","\t\t\tconsole.log( 'UI.append()' );\r","\t\t\tvar node_new\t= null;\r","\t\t\t/** Sanitize attributes\r","\t\t\t */\r","\t\t\tvar sanitizeAttributes = (function()\r","\t\t\t{\r","\t\t\t\tif( ! attributes )\r","\t\t\t\t\tattributes = {};\r","\t\t\t\t\r","\t\t\t\tif( ! Array.isArray(attributes) )\r","\t\t\t\t\tattributes = [attributes];\t\t\t\t\r","\t\t\t})(); \r","\t\t\t\r","\t\t\tfor(let a=0; a<attributes.length;a++)\r","\t\t\t\tnode_new = addControlToParent(type, typeof attributes[a] !== 'undefined' ? attributes[a] : null );\r","\t\t\t\r","\t\t\tif( children )\r","\t\t\t\tthis.node(node_new).append(children[0], children[1], children[2]);\r","\t\t\t\r","\t\t\treturn this;\r","\t\t};\r","\t\t/** Remove child element\r","\t\t * @param\tstring\tselector\tSelector of node\r","\t\t * @return\tself\r","\t\t */\r","\t\tthis.empty = function(selector=null)\r","\t\t{\r","\t\t\tconsole.log( 'UI.append()' );\r","\t\t\tthis.node(selector);\r","\r","\t\t\tnode.empty();\r","\t\t\t\r","\t\t\treturn this;\r","\t\t};\r","\t\t        \r","\t\t/** Test\r","\t\t */\r","\t\tthis.toggleCheckbox = function(id)\r","\t\t{ \r","\t\t\tvar checkbox \t= window.getElementById(id);\t\r","\t\t\tcheckbox.checked = ! checkbox.checked ;\r","\t\t};\r","\t\t/** Test\r","\t\t */\r","\t\tthis.test = function()\r","\t\t{\r","\t\t\talert('UI.test()');\r","\t\t};\r","\t\t/** Add controls to parent element\r","\t\t * Adding has smart features E.G.: auto adding of id\r","\t\t */\r","\t\tvar addControlToParent = function(type, attributes)\r","\t\t{\r","\t\t\tconsole.log( 'UI.addControlToParent()' );\r","\r","\t\t\tvar node_new\t= new ko.extensions.TemplateExtension.Komodo.Node()\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .type(type)\t\t\t\t\t\t\t\t\t\t\t\t\t \r","\t\t\t\t\t\t\t\t\t\t\t\t \t .attributes(attributes)\r","\t\t\t\t\t\t\t\t\t\t\t\t\t .get();\r","\t\t\tnode.append( node_new );\r","\t\t\t\r","\t\t\treturn node_new;\r","\t\t};\r","\t\t/** Get values form child nodes\r","\t\t * @param\tarray\tchild_nodes\tElement list of child nodes\r","\t\t */\r","\t\tvar setValuesFormChildNodes = function(child_nodes)\r","\t\t{\r","\t\t\t//console.log( child_nodes );\r","\t\t\t//Logger.info(child_nodes, 'UI: '+'child_nodes'); \r","\t\t\t\r","\t\t\tchild_nodes.each(function()\r","\t\t\t{\r","\t\t\t\tif( ! Object.keys(this.childNodes).length ){\r","\t\t\t\t\tif( this.id )\r","\t\t\t\t\t\tvalues[this.id] = this.nodeName == 'checkbox' ? this.checked : this.value;\t\t\t\t\t\r","\t\t\t\t}else\r","\t\t\t\t\tsetValuesFormChildNodes( $(this.childNodes) );\r","\t\t\t});\r","\t\t}; \r","\r","\t}\r","\treturn UI;\r","\r","})();\r","\r","\r","\r","//$.create(\"groupbox\", {id: \"xemmet-main\"},\r","//\t$.create('caption', {label: caption})\r","//\t\r","//\t('vbox align=\"left\"', {id: \"xemmet-main-vbox\"},\r","//\t\t$.create\r","//\t\t('textbox', {id:            \"xemmet_css_langs\",\r","//\t\t\t\t\t flex:          \"1\",\r","//\t\t\t\t\t pref:          \"true\",\r","//\t\t\t\t\t prefstring:    \"xemmet_css_languages\",\r","//\t\t\t\t\t prefattribute: \"value\",\r","//\t\t\t\t\t placeholder:   \"Additional CSS Language Names that Xemmet should run on\"})\r","//\t\t('textbox', {id:            \"xemmet_html_langs\",\r","//\t\t\t\t\t flex:          \"1\",\r","//\t\t\t\t\t pref:          \"true\",\r","//\t\t\t\t\t prefstring:    \"xemmet_html_languages\",\r","//\t\t\t\t\t prefattribute: \"value\",\r","//\t\t\t\t\t placeholder:   \"Additional HTML Language Names that Xemmet should run on\"})\r","//\t)\r","//);\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r","\r",""],"version":"1.0.12","rank":100,"async":false,"type":"macro","trigger":"trigger_postopen"}